<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tangmo.xizhu.customer.dao.ReportDao">

    <select id="selectTaskMonthCount">
        select month(created_time) as taskMonth,count() as taskCount
        from s_service_task where task.task_status = 2 and year(created_time) = #{year}
        group by month(created_time)

    </select>

    <select id="selectTaskReport">
        select task.uuid,task.company_name,task.device_type,task.assembly_type,task.trouble_type,task.ask_status,
        task.executor,task.created_time FROM s_service_task task
        left join s_audit_task audit on task.uuid = audit.task_id and audit.operation = 3
    </select>

    <select id="selectUserState">
        select
    </select>

    <select id="selectTaskMonthTime">
        select task.uuid,task.company_name,task.device_type,task.assembly_type,task.trouble_type,task.ask_status,
        task.executor,task.created_time FROM
        s_service_task task left join s_audit_task audit on task.uuid = audit.task_id and audit.operation = 3
        where task.task_status = 2
    </select>
</mapper>